

- Crossref system

TODO:

Figures:

- For knitr, label="fig:foo" need to go to knitr as "foo" (only when it's generating latex)
- For knitr, fig.cap, fig.subcap
- Overall caption for a panel of figures at the bottom of the containing div
    - How do we specify the figure vs. subfigure captions
- For a labeled Rmd chunk, a single plot gets #fig:label. Multiple plots
  gets #fig:label-1.
- Also for Julia
- For Jupyter, the "overflow" in the caption array should be output at the bottom of the div as the overall caption
- For Jupyter, we need to inherit out type from the label (if provided)


Tables:

- Knitr uses tab:__, we need to it to be tbl:___ (done in a filter?)
- Investigate kable, investigate the gt package
- enclosing rich output with div/id, injecting id into markdown output

Listing: 

- Test to make sure it works at all
  listing="foo" listing-cap = "foo", or listing="foo" listing-caption = "foo"




# Package/extension system

Port a dozen or rticles formats
# markdown for bootstrap concepts/constructs
# standalone document formats
bs4-notebook
bs4-article

Project system:
  - See MkDocs: https://docs.google.com/document/d/16Lp39BolpTR0NzbQQ6ebr9bawYth8EeivBo0q4qapVY/edit#heading=h.ibf8kici39py
  - Terminate at _quarto.yml w/ project: true
    (need to first determine if there is a project somewhere in the parent tree,
     if there is, then use this behavior, if not, use the first match)
  - External interactions with projects (output_dir, clean, etc.)

# static site generator (project system)
bs4-website
bs4-book

bs4-dashboard
bs4-presentation

memo/proposal on computations:
will be able to use RStudio chunk output and/or notebook for compute?
or perhaps require html_notebook?
computations could even be at a URL!!!

  {{= print("x") }} 

  {{< figure projections.xlsx#chunk-label caption="asfdasdf" label="myplot" >}}

  {{< table projections.xlsx#fy-2019 label="projections" label="">}}

  {{< text notebook.Rmd##chunk-label >}}

  {{< tweet https://twitter.com/foo/status/34453323455 >}}

  {{< video https://youtube.com/foo/status/34453323455 >}}


<< write tests >>

https://github.com/microsoft/vscode-jupyter

Why did Beamer fail to render w/ missing caption package w/ our pipeline but work for pandoc pdflatex?

Port tinytex to JS; OR we need to implmeent various auto-install behaviors for latexmk, eg.
  had to do this to get biblatex working w/ latexmk
  (may want to automate installation if no biber + auto-map TinyTeX to path)
    tlmgr install biblatex
    tlmgr install biber
    ln -sf /Users/jjallaire/Library/TinyTeX/bin/x86_64-darwin/biber /usr/local/bin/biber
Note need to implement tinytex: false and tinytex options (e.g. min-runs, clean, output-dir, etc.)

More robust Julia backend

Extracate the cache dir logic from rmarkdown::render and call that

Merge -M and --metadata-file with _quarto.yml and in-file YAML with same
semantics as Pandoc

discover index.Rmd or ui.Rmd for quarto run. can't rely on
rmarkdown::run b/c we need to figure out which Rmd to render

Meta-concepts on top of AST: e.g. tabs



